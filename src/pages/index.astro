---
import BaseLayout from '../layouts/BaseLayout.astro';
import TripCard from '../components/TripCard.astro';
import SectionHeader from '../components/SectionHeader.astro';
import { trips } from '../data/trips';

const upcomingTrips = [...trips]
  .filter((trip) => trip.status === 'upcoming')
  .sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime())
  .slice(0, 4);

const latestReports = [...trips]
  .filter((trip) => trip.status === 'past')
  .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())
  .slice(0, 3);

const features = [
  {
    title: 'Προτεραιότητα η ασφάλεια',
    body: 'Πιστοποιημένοι προπονητές, αυστηρή αξιολόγηση διαδρομών και συνεχής επίγνωση χιονοστιβάδων.',
    icon: 'shield'
  },
  {
    title: 'Δράση όλο τον χρόνο',
    body: 'Ορειβατικό σκι, πεζοπορίες σε παγετώνες, φθινοπωρινές αναρριχήσεις και χειμερινή προπόνηση.',
    icon: 'seasons'
  },
  {
    title: 'Μέντορες & σεμινάρια',
    body: 'Πρακτική καθοδήγηση, επανάληψη τεχνικών διάσωσης και κύκλοι για νέους αρχηγούς.',
    icon: 'compass'
  },
  {
    title: 'Κοινότητα & νεολαία',
    body: 'Υποτροφίες, νέοι φύλακες βουνού και ομάδες ενδιαφέροντος ανοίγουν το αλπικό σε όλους.',
    icon: 'community'
  }
];
---
<BaseLayout>
  <section class="section-padding pt-10">
    <div class="glass-panel px-8 py-14 lg:px-12 lg:py-20 overflow-hidden relative">
      <div class="absolute inset-y-0 right-0 w-1/2 opacity-20 pointer-events-none hidden lg:block">
        <svg viewBox="0 0 400 400" class="w-full h-full" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 320L120 180L200 260L320 120L400 200V400H0Z" fill="url(#grad)" />
          <defs>
            <linearGradient id="grad" x1="0" x2="1" y1="0" y2="1">
              <stop offset="0%" stop-color="#06b6d4" stop-opacity="0.6" />
              <stop offset="100%" stop-color="#f97316" stop-opacity="0.3" />
            </linearGradient>
          </defs>
        </svg>
      </div>
      <p class="text-sm uppercase tracking-[0.3em] text-brand-forest">Φ.Ο.Ο.Γ · Φυσιολατρικός Ορειβατικός Όμιλος Γιαννιτσών</p>
      <h1 class="mt-6 text-4xl sm:text-5xl lg:text-6xl font-semibold text-brand-rock max-w-3xl">
        Μέντορες των βουνών, κυνηγοί πούδρας και αφηγητές γραμμών ονείρου.
      </h1>
      <p class="mt-6 text-lg text-brand-fog max-w-2xl">
        Είμαστε κοινότητα εθελοντών που προσφέρει προγράμματα επιπέδου οδηγών, εκπαίδευση ασφάλειας
        και αξέχαστες εξορμήσεις από τον Όλυμπο μέχρι τις Άλπεις του Καναδά.
      </p>
      <div class="mt-10 flex flex-wrap gap-4">
        <a
          href="/trips"
          class="inline-flex items-center justify-center rounded-full bg-brand-sunrise px-8 py-3 text-base font-semibold text-brand-rock shadow-lg shadow-brand-sunrise/40 transition hover:scale-105"
        >
          Δες τις επόμενες εξορμήσεις
        </a>
        <a
          href="/join"
          class="inline-flex items-center justify-center rounded-full border border-brand-forest/30 px-8 py-3 text-base font-semibold text-brand-forest hover:border-brand-sunrise hover:text-brand-sunrise transition"
        >
          Γίνε μέλος
        </a>
      </div>
    </div>
  </section>

  <section class="section-padding" id="upcoming-trips">
    <SectionHeader eyebrow="Σχεδιασμός" title="Επερχόμενες περιπέτειες" subtitle="Μικρές ομάδες, άρτια οργάνωση και υποστήριξη προπονητών" />
    <div class="grid gap-6 lg:grid-cols-2">
      {upcomingTrips.map((trip) => (
        <TripCard trip={trip} />
      ))}
    </div>
    <div class="mt-10 text-center">
      <a
        href="/trips"
        class="inline-flex items-center gap-2 rounded-full border border-brand-forest/30 px-6 py-3 text-sm font-semibold text-brand-forest hover:border-brand-sunrise hover:text-brand-sunrise"
      >
        Όλες οι εξορμήσεις
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-4 w-4" fill="none" stroke="currentColor" stroke-width="1.5">
          <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h14m-6-6 6 6-6 6" />
        </svg>
      </a>
    </div>
  </section>

  <section class="section-padding">
    <div class="grid gap-10 lg:grid-cols-[1.1fr,0.9fr] items-center">
      <div>
        <SectionHeader eyebrow="Ταυτότητα" title="Ρίζες στην υπευθυνότητα" subtitle="Από το 1974 υπερασπιζόμαστε την ασφάλεια, το άγριο χιόνι και τις φιλίες ζωής." />
        <div class="glass-panel p-8 space-y-4 text-brand-fog">
          <p>
            Από τα εργαστήρια της Τετάρτης μέχρι τις εβδομαδιαίες εκστρατείες σε παγετώνες, πιστεύουμε ότι η
            κοινή γνώση κρατά τα βουνά προσβάσιμα και ασφαλή. Οι αρχηγοί εξορμήσεων αξιολογούνται κάθε χρόνο και
            υποστηρίζονται από διοίκηση που δίνει προτεραιότητα σε υποτροφίες, νεανικά προγράμματα και συνεργασίες
            προστασίας γης.
          </p>
          <p>
            Τα μέλη απολαμβάνουν ανανεώσεις γνώσεων χιονοστιβάδων, κύκλους mentoring, εκπτώσεις σε ορειβατικά
            καταφύγια και ζωντανή κοινότητα συνομιλιών με ενημέρωση σε πραγματικό χρόνο.
          </p>
          <a href="/history" class="inline-flex items-center gap-2 text-brand-forest font-semibold">
            Δες όλη την ιστορία
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h14m-6-6 6 6-6 6" />
            </svg>
          </a>
        </div>
      </div>
      <div class="grid gap-6">
        {features.map((feature) => (
          <div class="glass-panel p-6 flex items-start gap-4 transition hover:-translate-y-1">
            <div class="h-12 w-12 rounded-2xl bg-brand-sand/70 flex items-center justify-center text-brand-forest">
              {feature.icon === 'shield' && (
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="1.5">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M12 3 4.5 6v6c0 5.25 3.75 9.75 7.5 10.5 3.75-.75 7.5-5.25 7.5-10.5V6L12 3Z" />
                </svg>
              )}
              {feature.icon === 'seasons' && (
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="1.5">
                  <path stroke-linecap="round" stroke-linejoin="round" d="m12 6 3-3m-3 3-3-3m3 3V3m3 18 3-3m-3 3-3-3m3 3v-3m6-3-3-3m3 3-3 3m3-3h-3M6 12l-3-3m3 3-3 3m3-3H3" />
                </svg>
              )}
              {feature.icon === 'compass' && (
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="1.5">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18Zm2.25-9.75-2 4.5-1.5-1.5-1.5-1.5 4.5-1.5Z" />
                </svg>
              )}
              {feature.icon === 'community' && (
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-6 w-6" fill="none" stroke="currentColor" stroke-width="1.5">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M6 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm12 0a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM6 21v-3a3 3 0 0 1 3-3h0" />
                  <path stroke-linecap="round" stroke-linejoin="round" d="M18 21v-3a3 3 0 0 0-3-3h-6" />
                </svg>
              )}
            </div>
            <div>
              <h3 class="text-xl font-semibold text-brand-rock">{feature.title}</h3>
              <p class="text-brand-fog text-sm mt-2">{feature.body}</p>
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <section class="section-padding">
    <SectionHeader eyebrow="Αναφορές" title="Πρόσφατες αναφορές εξορμήσεων" subtitle="Στιγμές από κορυφές και γραμμές σκι" />
    <div class="grid gap-6 md:grid-cols-3">
      {latestReports.map((report) => (
        <div class="glass-panel p-6 flex flex-col gap-3 hover:-translate-y-1 transition">
          <p class="text-sm text-brand-fog">{new Date(report.date).toLocaleDateString('el-GR')}</p>
          <h3 class="text-xl font-semibold text-brand-rock">{report.title}</h3>
          <p class="text-brand-fog text-sm">{report.shortDescription}</p>
          <a href="/trips" class="text-sm font-semibold text-brand-forest">Διάβασε την αναφορά →</a>
        </div>
      ))}
    </div>
  </section>
</BaseLayout>
