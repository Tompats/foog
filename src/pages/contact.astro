---
import BaseLayout from "../layouts/BaseLayout.astro";
import SectionHeader from "../components/SectionHeader.astro";
import { siteMetadata } from "../data/site";

const WEB3FORMS_ENDPOINT = "https://api.web3forms.com/submit";
const web3FormsAccessKey = import.meta.env.PUBLIC_WEB3FORMS_ACCESS_KEY ?? "";
const contactEmail = siteMetadata.contactEmail;
const clubPhone = siteMetadata.phone;
---

<BaseLayout
  title="Επικοινωνία"
  description="Επικοινώνησε με το Δ.Σ., την ομάδα μελών και τους αρχηγούς εξορμήσεων του Φ.Ο.Ο.Γ."
>
  <section class="section-padding" data-reveal>
    <SectionHeader
      eyebrow="Γεια"
      title="Επικοινωνία & βάση"
      subtitle="Στείλε μας ένα mail ή έλα απο τα γραφεία μας"
    />
    <div class="grid gap-10 lg:grid-cols-2">
      <div class="space-y-6">
        <div class="glass-panel p-6 space-y-3">
          <h3 class="text-xl font-semibold text-brand-rocky">
            Στοιχεία ομίλου
          </h3>
          <p class="text-brand-mist">
            Φ.Ο.Ο.Γ., Ανοιχτού Θεάτρου 8, Γιαννιτσά 58100
          </p>
          <p class="text-brand-mist">
            Συναντήσεις: Τετάρτες 18:30–21:00 · Ξύλινο σπιτάκι
          </p>
          <p class="text-brand-mist">
            Email: <a href={`mailto:${contactEmail}`}>{contactEmail}</a>
          </p>
          <p class="text-brand-mist">Τηλέφωνο: {clubPhone}</p>
        </div>
        <div class="glass-panel space-y-3 overflow-hidden rounded-3xl p-0">
          <div class="contact-map">
            <iframe
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3020.3926007214395!2d22.411229576016144!3d40.7973657323851!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1357cf0023c5ad5d%3A0x66a05dca1921c097!2zzqbPhc-DzrnOv867zrHPhM-BzrnOus-Mz4Igzp_Pgc61zrnOss6xz4TOuc66z4zPgiDOjM68zrnOu86_z4IgzpPOuc6xzr3Ovc65z4TPg8-Ozr0gKM6mLs6fLs6fLs6TKQ!5e0!3m2!1sen!2sgr!4v1763228852047!5m2!1sen!2sgr"
              title="Χάρτης λέσχης Φ.Ο.Ο.Γ."
              loading="lazy"
              allowfullscreen
              referrerpolicy="no-referrer-when-downgrade"></iframe>
            <div aria-hidden="true" class="contact-map__ring"></div>
            <div
              aria-hidden="true"
              class="contact-map__glow contact-map__glow--one"
            >
            </div>
            <div
              aria-hidden="true"
              class="contact-map__glow contact-map__glow--two"
            >
            </div>
          </div>
          <div class="px-6 pb-4 text-sm">
            <a
              href="https://maps.app.goo.gl/4AAj2mRvftfcaQLw5"
              target="_blank"
              rel="noreferrer"
              class="text-brand-river underline decoration-dotted underline-offset-4"
            >
              Άνοιξε στο Google Maps
            </a>
          </div>
        </div>
      </div>
      <div class="glass-panel p-8">
        <form action={WEB3FORMS_ENDPOINT} method="POST" class="space-y-6">
          <input
            type="hidden"
            name="access_key"
            value={web3FormsAccessKey}
          />
          <input
            type="hidden"
            name="subject"
            value="Νέο μήνυμα επικοινωνίας από foog.gr"
          />
          <input type="hidden" name="from_name" value="F.O.O.G. website" />
          <div class="hidden" aria-hidden="true">
            <label class="text-sm text-brand-mist">
              Μην συμπληρώνεις αυτό το πεδίο
              <input
                type="text"
                name="botcheck"
                tabindex="-1"
                autocomplete="off"
                class="w-px border-0 bg-transparent p-0"
              />
            </label>
          </div>
          <div>
            <h3 class="text-2xl font-semibold text-brand-rocky">
              Μίλησε με την ομάδα
            </h3>
            <p class="mt-2 text-brand-mist">
              Συμπλήρωσε τη φόρμα με το μήνυμά σου. Θα απαντήσουμε σε 1–2 εργάσιμες
              ημέρες και μπορούμε να σε καλέσουμε πίσω αν χρειαστεί.
            </p>
          </div>
          <div class="grid gap-4 sm:grid-cols-2 mb-4">
            <label class="space-y-1 text-sm font-medium text-brand-rocky">
              <span class="text-brand-mist">Ονοματεπώνυμο</span>
              <input
                type="text"
                name="name"
                required
                placeholder="Πλήρες όνομα"
                class="w-full rounded-2xl border border-brand-river/30 bg-brand-cloud/80 px-4 py-3 text-base font-normal text-brand-rocky placeholder:text-brand-mist focus:border-brand-river focus:ring-2 focus:ring-brand-river/40 focus:outline-none"
              />
            </label>
            <label class="space-y-1 text-sm font-medium text-brand-rocky">
              <span class="text-brand-mist">Email</span>
              <input
                type="email"
                name="email"
                required
                placeholder="name@email.com"
                class="w-full rounded-2xl border border-brand-river/30 bg-brand-cloud/80 px-4 py-3 text-base font-normal text-brand-rocky placeholder:text-brand-mist focus:border-brand-river focus:ring-2 focus:ring-brand-river/40 focus:outline-none"
              />
            </label>
          </div>
          <label class="space-y-1 text-sm font-medium text-brand-rocky">
            <span class="text-brand-mist">Τηλέφωνο (προαιρετικό)</span>
            <input
              type="tel"
              name="phone"
              placeholder="π.χ. +30 69 1234 5678"
              class="w-full rounded-2xl border border-brand-river/30 bg-brand-cloud/80 px-4 py-3 text-base font-normal text-brand-rocky placeholder:text-brand-mist focus:border-brand-river focus:ring-2 focus:ring-brand-river/40 focus:outline-none"
            />
          </label>
          <label class="space-y-1 text-sm font-medium text-brand-rocky">
            <span class="text-brand-mist">Μήνυμα</span>
            <textarea
              name="message"
              rows="5"
              required
              placeholder="Πες μας πώς μπορούμε να βοηθήσουμε"
              class="w-full rounded-2xl border border-brand-river/30 bg-brand-cloud/80 px-4 py-3 text-base font-normal text-brand-rocky placeholder:text-brand-mist focus:border-brand-river focus:ring-2 focus:ring-brand-river/40 focus:outline-none"
            ></textarea>
          </label>
          <button
            type="submit"
            class="btn-ripple inline-flex w-full items-center justify-center gap-2 rounded-2xl bg-brand-river px-4 py-3 text-base font-semibold text-brand-cloud transition hover:bg-brand-terracotta focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-brand-terracotta focus-visible:ring-offset-brand-cloud"
          >
            Στείλε το μήνυμα
          </button>
          <div class="rounded-3xl border border-brand-river/20 bg-brand-cloud/50 p-6 text-sm">
            <p class="font-semibold text-brand-rocky">
              Θέλεις προσωπική καθοδήγηση;
            </p>
            <p class="text-brand-mist">
              Πέρασε από τα γραφεία μας κάθε Τετάρτη 18:30–21:00. Θα σε υποδεχτούν
              μέλη του Δ.Σ. και οι αρχηγοί εξορμήσεων για να πούμε από κοντά τις
              ανάγκες σου και να οργανώσουμε την επόμενη εξόρμηση ή εκπαίδευση.
            </p>
          </div>
        </form>
      </div>
    </div>
  </section>
</BaseLayout>
