---
import BaseLayout from '../layouts/BaseLayout.astro';
import TripCard from '../components/TripCard.astro';
import SectionHeader from '../components/SectionHeader.astro';
import { trips } from '../data/trips';

const upcomingTrips = [...trips]
  .filter((trip) => trip.status === 'upcoming')
  .sort((a, b) => new Date(a.date).getTime() - new Date(b.date).getTime());

const pastTrips = [...trips]
  .filter((trip) => trip.status === 'past')
  .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());

const tripTypes = ['hiking', 'mountaineering', 'ski', 'climbing'] as const;
const difficulties = [1, 2, 3, 4, 5];
const typeLabelMap: Record<(typeof tripTypes)[number], string> = {
  hiking: 'Πεζοπορία',
  mountaineering: 'Ορειβασία',
  ski: 'Σκι',
  climbing: 'Αναρρίχηση'
};
---
<BaseLayout
  title="Εξορμήσεις"
  description="Δες τις επόμενες και παλαιότερες εξορμήσεις του Φ.Ο.Ο.Γ., ταξινόμησε ανά δραστηριότητα και δυσκολία και όρισε τον επόμενο στόχο σου."
>
  <section class="section-padding">
    <SectionHeader eyebrow="Ημερολόγιο" title="Εξορμήσεις" subtitle="Διάλεξε εποχή, στόχο ή κύκλο καθοδήγησης" />
    <div class="glass-panel p-6 mb-12">
      <p class="text-sm uppercase tracking-[0.3em] text-brand-fog">Φίλτρα (ενδεικτικά)</p>
      <div class="mt-4 flex flex-wrap gap-3">
        {tripTypes.map((type) => (
          <button class="rounded-full border border-brand-sand/80 px-4 py-2 text-sm text-brand-rock hover:border-brand-forest/60">
            {typeLabelMap[type]}
          </button>
        ))}
      </div>
      <div class="mt-4 flex flex-wrap gap-3">
        {difficulties.map((level) => (
          <button class="rounded-full border border-brand-sand/60 px-4 py-2 text-sm text-brand-fog hover:border-brand-sunrise/60">
            Δυσκολία {level}
          </button>
        ))}
      </div>
    </div>
    <div class="space-y-16">
      <div>
        <div class="flex items-center justify-between mb-6">
          <h3 class="text-2xl font-semibold text-brand-rock">Επόμενες εξορμήσεις</h3>
          <span class="text-sm text-brand-fog">{upcomingTrips.length} διαδρομές</span>
        </div>
        <div class="grid gap-6 lg:grid-cols-2">
          {upcomingTrips.map((trip) => (
            <TripCard trip={trip} />
          ))}
        </div>
      </div>
      <div>
        <div class="flex items-center justify-between mb-6">
          <h3 class="text-2xl font-semibold text-brand-rock">Αναφορές προηγούμενων</h3>
          <span class="text-sm text-brand-fog">{pastTrips.length} αναφορές</span>
        </div>
        <div class="grid gap-6 lg:grid-cols-2">
          {pastTrips.map((trip) => (
            <TripCard trip={trip} />
          ))}
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
